<ul>
    <li ng-repeat="p in vm.periods | orderBy:'-'"
        ng-controller="PeriodCtrl as pd"
        ng-init="pd.init(p)">
        
        <article>
            <h1>{{ p | date:'MMM yyyy' }}</h1>
            
            <table class="table-costs full-width">
                <tr ng-repeat="c in pd.costs | orderBy:'date' | link ">
                    
                    <td class="text-center"
                        rowspan="{{ pd.isNewDay(c) && pd.sameDay(c) }}"
                        ng-if="pd.isNewDay(c)">
                        {{ c.date | date:'dd' }}
                    </td>

                    <td>{{ c.category.words }}</td>
                    <td>{{ c.amount }}</td>
                </tr>
            </table>
        </article>
    </li>
</ul>